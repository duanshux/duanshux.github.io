import{_ as i,c as a,o as n,ai as e}from"./chunks/framework.J4wuZ4z4.js";const t="/assets/1049381467.C74xPHZ-.png",h="/assets/3604319295.Bzs05ydh.png",F=JSON.parse('{"title":"Debian使用Wine安装QQ和微信","description":"","frontmatter":{"title":"Debian使用Wine安装QQ和微信","prev":false,"next":false},"headers":[],"relativePath":"system/debian/wechat/index.md","filePath":"system/debian/wechat/index.md","lastUpdated":1736955357000}'),l={name:"system/debian/wechat/index.md"};function p(k,s,r,d,o,c){return n(),a("div",null,s[0]||(s[0]=[e(`<h1 id="debian使用wine安装qq和微信" tabindex="-1">Debian使用Wine安装QQ和微信 <a class="header-anchor" href="#debian使用wine安装qq和微信" aria-label="Permalink to &quot;Debian使用Wine安装QQ和微信&quot;">​</a></h1><h2 id="前置" tabindex="-1">前置 <a class="header-anchor" href="#前置" aria-label="Permalink to &quot;前置&quot;">​</a></h2><p>开启32位支持<a href="https://www.cnblogs.com/welhzh/p/4704149.html" target="_blank" rel="noreferrer">参考文章</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#开启32位支持</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add-architecture</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i386</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span></span></code></pre></div><p>下载微信和QQ的windows版安装包</p><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><p><a href="https://github.com/zq1997/deepin-wine/issues/230" target="_blank" rel="noreferrer">主要参考内容</a></p><h3 id="安装wine" tabindex="-1">安装wine <a class="header-anchor" href="#安装wine" aria-label="Permalink to &quot;安装wine&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wine</span></span></code></pre></div><h3 id="创建容器" tabindex="-1">创建容器 <a class="header-anchor" href="#创建容器" aria-label="Permalink to &quot;创建容器&quot;">​</a></h3><p>创建wine容器并进行简单配置，需要提前创建好文件夹&quot;~/Wine/.win/wechat&quot;，可以改成你喜欢的其他路径，自己看着办吧，这里改其他路径记得后面也同步改了就行。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;/home/chen&quot;替换为自己的用户文件夹路径</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 也可以将&quot;/Wine/.wine/wechat&quot;替换为自己喜欢的路径</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 甚至可以不放在当前用户的用户文件夹下（不推荐）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">WINEPREFIX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home/chen/Wine/.wine/wechat&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> wine</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> winecfg</span></span></code></pre></div><p>应用程序里选择windows7，显示里改为如下配置（屏幕分辨率主要是调节缩放，我是1080P的屏幕，缩放125%就够了，如果你是更高分辨率的屏幕，或者你觉得大小不舒服，请自行调节至你觉得合适的大小）</p><p><img src="`+t+`" alt="image.png"></p><h3 id="安装微信" tabindex="-1">安装微信 <a class="header-anchor" href="#安装微信" aria-label="Permalink to &quot;安装微信&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;/home/chen/Wine/.wine/wechat&quot;替换为自己的wine容器路径</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;./Downloads/WeChatSetup.exe&quot;替换为自己下载的微信安装包存放路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">WINEPREFIX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home/chen/Wine/.wine/wechat&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> wine</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./Downloads/WeChatSetup.exe</span></span></code></pre></div><p>可以选择安装路径，后面的微信启动脚本里的程序路径就是你现在选的安装路径</p><h3 id="创建启动脚本" tabindex="-1">创建启动脚本 <a class="header-anchor" href="#创建启动脚本" aria-label="Permalink to &quot;创建启动脚本&quot;">​</a></h3><p>在&quot;~/.locak/bin/&quot;文件夹下创建runwechat.sh文件，写入以下内容</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/user/bin/env bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;/home/chen/Wine/.wine/wechat&quot;替换为自己的wine容器路径</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;/Program\\ Files/WeChat/WeChat.exe&quot;替换为自己微信安装路径</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;/drive_c&quot;即wine容器中的C盘</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;不确定路径可以在debian中找到WeChat.exe&quot;文件在哪，反正肯定在你wine容器文件夹里</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">WINEPREFIX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home/chen/Wine/.wine/wechat&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> wine</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/chen/Wine/.wine/wechat/drive_c/Program</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Files/WeChat/WeChat.exe</span></span></code></pre></div><h3 id="创建启动图标" tabindex="-1">创建启动图标 <a class="header-anchor" href="#创建启动图标" aria-label="Permalink to &quot;创建启动图标&quot;">​</a></h3><p>在&quot;~/.local/share/applications/&quot;文件夹中创建&quot;wechat.desktop&quot;文件，写入：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/usr/bin/env xdg-open </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Desktop Entry] </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Encoding</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">UTF-8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X-Created-By</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deepin</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WINE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Team</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Categories</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">chat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Icon</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">com.qq.weixin.deepin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;/home/chen&quot;替换为自己的用户文件夹路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Exec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home/chen/.local/bin/runwechat.sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">WeChat</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Name[zh_CN]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">微信</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Comment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Tencent</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WeChat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Client</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Deepin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Wine</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StartupWMClass</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">WeChat.exe</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MimeType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span></span></code></pre></div><h3 id="qq" tabindex="-1">QQ <a class="header-anchor" href="#qq" aria-label="Permalink to &quot;QQ&quot;">​</a></h3><p>与微信同，不再赘述。</p><h2 id="问题修复" tabindex="-1">问题修复 <a class="header-anchor" href="#问题修复" aria-label="Permalink to &quot;问题修复&quot;">​</a></h2><h3 id="输入框无法预览选中" tabindex="-1">输入框无法预览选中 <a class="header-anchor" href="#输入框无法预览选中" aria-label="Permalink to &quot;输入框无法预览选中&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> winetricks</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">WINEPREFIX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home/chen/Wine/.wine/wechat&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> winetricks</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> riched20</span></span></code></pre></div><p>文件下载不下来就复制链接在浏览器下载然后放进对应的临时文件夹，具体操作和文件：<a href="https://blog.csdn.net/weixin_43943298/article/details/111145895" target="_blank" rel="noreferrer">参考文章</a></p><p><strong>注：原文没提到两个文件要放入两个不同的文件夹下</strong></p><p>将W2KSP4_EN.exe放入&quot;~/.cache/winetricks/win2ksp4/&quot;文件夹下</p><p>将InstMsiW.exe放入&quot;~/.cache/winetricks/msls31/&quot;文件夹下</p><h3 id="少部分乱码字体以及改善中文显示效果" tabindex="-1">少部分乱码字体以及改善中文显示效果 <a class="header-anchor" href="#少部分乱码字体以及改善中文显示效果" aria-label="Permalink to &quot;少部分乱码字体以及改善中文显示效果&quot;">​</a></h3><p>微软雅黑伪装宋体放入wine容器字体文件夹，具体操作和文件：<a href="https://bbs.deepin.org/zh/post/213530" target="_blank" rel="noreferrer">参考文章</a></p><h3 id="qq无法加载图片" tabindex="-1">QQ无法加载图片 <a class="header-anchor" href="#qq无法加载图片" aria-label="Permalink to &quot;QQ无法加载图片&quot;">​</a></h3><p>安装privoxy走代理，具体操作：<a href="https://www.qedev.com/linux/341081.html" target="_blank" rel="noreferrer">参考文章</a></p><p>推荐解决完字体问题再解决这个，不然输入框会无法显示已经填了的代理信息。</p><h3 id="未解决" tabindex="-1">未解决 <a class="header-anchor" href="#未解决" aria-label="Permalink to &quot;未解决&quot;">​</a></h3><ol><li>微信窗口被覆盖显示阴影（不用就叉掉或者最小化就好）</li><li>偶发wine弹出程序崩溃报错（但其实没崩，叉掉报错就行）</li><li>刚安装后启动不在状态栏显示小图标（重启一次即可）</li></ol><h2 id="完工截图" tabindex="-1">完工截图 <a class="header-anchor" href="#完工截图" aria-label="Permalink to &quot;完工截图&quot;">​</a></h2><p><img src="`+h+'" alt="image.png"></p>',41)]))}const E=i(l,[["render",p]]);export{F as __pageData,E as default};
